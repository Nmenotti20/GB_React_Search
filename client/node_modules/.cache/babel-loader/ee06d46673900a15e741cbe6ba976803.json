{"ast":null,"code":"import _slicedToArray from\"C:/Users/nmeno/Desktop/GB_React_Search/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import Axios from'../utils/API';import{Modal}from'react-bootstrap';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Saved(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),savedBooks=_useState2[0],setSavedBooks=_useState2[1];var _useState3=useState({title:\"\",authors:[],image:\"\",description:\"\"}),_useState4=_slicedToArray(_useState3,2),viewedBook=_useState4[0],setViewedBook=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showModal=_useState6[0],setShowModal=_useState6[1];useEffect(function(){Axios.getBooks().then(function(res){return setSavedBooks(res.data.reverse());}).catch(function(err){return console.log(err);});},[]);function viewBook(e){setViewedBook(savedBooks[e.target.id]);setShowModal(true);}function deleteBook(e){Axios.deleteBook(e.target.id).then(function(){Axios.getBooks().then(function(res){return setSavedBooks(res.data);}).catch(function(error){return console.log(error);});}).catch(function(err){return console.log(err);});}return/*#__PURE__*/_jsxs(\"div\",{className:\"jumbotron p-3\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Saved Books\"}),/*#__PURE__*/_jsx(\"hr\",{}),savedBooks.map(function(book,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"h4\",{children:book.title}),/*#__PURE__*/_jsxs(\"span\",{className:\"ml-auto\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:viewBook,className:\"btn btn-success\",id:index,children:\"View\"}),/*#__PURE__*/_jsx(\"button\",{onClick:deleteBook,className:\"ml-2 btn btn-danger\",id:book._id,children:\"Delete\"})]})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Written By:\",book.authors!==undefined&&book.authors.map(function(author,index){return/*#__PURE__*/_jsxs(\"span\",{children:[\" \",author,\", \"]},index);})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"img\",{src:book.image,className:\"col-12 col-sm-5 col-md-3 col-lg-2\",style:{height:'auto'}}),/*#__PURE__*/_jsx(\"p\",{className:\"col-12 col-sm-7 col-md-9 col-lg-10\",children:book.description})]}),/*#__PURE__*/_jsx(\"hr\",{})]},index);}),/*#__PURE__*/_jsxs(Modal,{show:showModal,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-window-close ml-auto mr-1 mt-1\",style:{cursor:\"pointer\"},onClick:function onClick(){return setShowModal(false);}}),/*#__PURE__*/_jsx(\"h4\",{className:\"ml-2\",children:viewedBook.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"ml-2\",children:[\"Written By:\",viewedBook.authors!==undefined&&viewedBook.authors.map(function(author,index){return/*#__PURE__*/_jsxs(\"span\",{children:[\" \",author,\", \"]},index);})]}),/*#__PURE__*/_jsx(\"img\",{className:\"mx-3 mb-3\",src:viewedBook.image}),/*#__PURE__*/_jsx(\"p\",{className:\"mx-2\",children:viewedBook.description})]})]});}export default Saved;","map":{"version":3,"sources":["C:/Users/nmeno/Desktop/GB_React_Search/client/src/pages/Saved.js"],"names":["React","useEffect","useState","Axios","Modal","Saved","savedBooks","setSavedBooks","title","authors","image","description","viewedBook","setViewedBook","showModal","setShowModal","getBooks","then","res","data","reverse","catch","err","console","log","viewBook","e","target","id","deleteBook","error","map","book","index","_id","undefined","author","height","cursor"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Axios from '../utils/API';\r\nimport { Modal } from 'react-bootstrap';\r\n\r\n\r\nfunction Saved() {\r\n    const [savedBooks, setSavedBooks] = useState([]);\r\n    const [viewedBook, setViewedBook] = useState({\r\n        title: \"\",\r\n        authors: [],\r\n        image: \"\",\r\n        description: \"\"\r\n    })\r\n    const [showModal, setShowModal] = useState(false);\r\n\r\n    useEffect(() => {\r\n        Axios.getBooks()\r\n            .then(res => setSavedBooks(res.data.reverse()))\r\n            .catch(err => console.log(err))\r\n    }, [])\r\n\r\n    function viewBook(e) {\r\n        setViewedBook(savedBooks[e.target.id]);\r\n        setShowModal(true);\r\n    }\r\n\r\n    function deleteBook(e) {\r\n        Axios.deleteBook(e.target.id)\r\n            .then(() => {\r\n                Axios.getBooks()\r\n                    .then(res => setSavedBooks(res.data))\r\n                    .catch(error => console.log(error))\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    return (\r\n        <div className=\"jumbotron p-3\">\r\n            <h4>Saved Books</h4>\r\n            <hr/>\r\n            {\r\n                savedBooks.map((book, index) => (\r\n                    <div key={index} className=\"mb-5\">\r\n                        <div className=\"row\">\r\n                            <h4>{book.title}</h4>\r\n                            <span className=\"ml-auto\">\r\n                                <button onClick={viewBook} className=\"btn btn-success\" id={index}>View</button>\r\n                                <button onClick={deleteBook} className=\"ml-2 btn btn-danger\" id={book._id}>Delete</button>\r\n                            </span>\r\n                        </div>\r\n                        <p>Written By:\r\n                            {\r\n                                book.authors !== undefined &&\r\n                                book.authors.map((author, index) => (\r\n                                    <span key={index}> {author}, </span>\r\n                                ))\r\n                            }\r\n                        </p>\r\n                        <div className=\"row\">\r\n                            <img src={book.image} className=\"col-12 col-sm-5 col-md-3 col-lg-2\" style={{height: 'auto'}} />\r\n                            <p className=\"col-12 col-sm-7 col-md-9 col-lg-10\">{book.description}</p>\r\n                        </div>\r\n                        <hr/>\r\n                    </div>\r\n                    \r\n                ))\r\n            }\r\n            <Modal show={showModal}>\r\n                <i className=\"fas fa-window-close ml-auto mr-1 mt-1\" style={{cursor: \"pointer\"}} onClick={() => setShowModal(false)}></i>\r\n                <h4 className=\"ml-2\">{viewedBook.title}</h4>\r\n                <p className=\"ml-2\">Written By:\r\n                    {\r\n                        viewedBook.authors !== undefined &&\r\n                        viewedBook.authors.map((author, index) => (\r\n                            <span key={index}> {author}, </span>\r\n                        ))\r\n                    }\r\n                </p>\r\n                <img className=\"mx-3 mb-3\" src={viewedBook.image} />\r\n                <p className=\"mx-2\">{viewedBook.description}</p>\r\n            </Modal>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Saved;"]},"metadata":{},"sourceType":"module"}