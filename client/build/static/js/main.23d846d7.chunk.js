(this.webpackJsonpgb_react_search=this.webpackJsonpgb_react_search||[]).push([[0],{55:function(e,t,c){},56:function(e,t,c){},85:function(e,t,c){"use strict";c.r(t);var s=c(0),a=c.n(s),n=c(14),r=c.n(n),o=(c(55),c(38)),i=c(5),l=(c(56),c(8)),j=c(1);var u=function(){var e=Object(s.useState)({searchIsActive:"",savedIsActive:""}),t=Object(l.a)(e,2),c=t[0],a=t[1],n=Object(i.e)();return Object(s.useEffect)((function(){"/"===n.pathname?a({searchIsActive:"active",savedIsActive:""}):"/saved"===n.pathname&&a({searchIsActive:"",savedIsActive:"active"})}),[]),Object(j.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:[Object(j.jsx)("a",{className:"navbar-brand",href:"/",children:Object(j.jsx)("img",{src:"https://www.graphicsprings.com/filestorage/stencils/2f3bdb9733c4a68659dc2900a7595fea.png",height:"50",alt:""})}),Object(j.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(j.jsx)("span",{className:"navbar-toggler-icon"})}),Object(j.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(j.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(j.jsx)("li",{className:"nav-item ".concat(c.searchIsActive),children:Object(j.jsxs)("a",{className:"nav-link",href:"/",style:{fontSize:"20px"},children:["Search",Object(j.jsx)("span",{className:"sr-only",children:"(current)"})]})}),Object(j.jsx)("li",{className:"nav-item ".concat(c.savedIsActive),children:Object(j.jsx)("a",{className:"nav-link",href:"/saved",style:{fontSize:"20px"},children:"Saved"})})]})})]})};var b=function(e,t){var c=Object(s.useState)(e),a=Object(l.a)(c,2),n=a[0],r=a[1];return Object(s.useEffect)((function(){var c=setTimeout((function(){r(e)}),t);return function(){clearTimeout(c)}}),[e,t]),n},d=c(28),h=c.n(d),m=function(e){return h.a.get("https://www.googleapis.com/books/v1/volumes?q=".concat(e))},O=function(e){return h.a.post("/api/books/",e)},f=function(){return h.a.get("/api/books/")},v=function(e){return h.a.delete("/api/books/"+e)},x=c(90),p=c(91);var g=function(e){var t=e.results,c=Object(s.useState)({title:"",authors:[],imageLinks:{thumbnail:""},description:""}),a=Object(l.a)(c,2),n=a[0],r=a[1],o=Object(s.useState)(!1),i=Object(l.a)(o,2),u=i[0],b=i[1],d=Object(s.useState)(),h=Object(l.a)(d,2),m=h[0],f=h[1],v=Object(s.useState)(!1),g=Object(l.a)(v,2),N=g[0],k=g[1];function S(e){r(t[e.target.parentNode.id].volumeInfo),b(!0)}function w(e){var c,s,a=t[e.target.parentNode.id].volumeInfo;c=a.authors?a.authors:["No authors listed"],s=a.description?a.description:"No description written",f({title:a.title,authors:c,image:a.imageLinks.thumbnail,description:s}),k(!N)}Object(s.useRef)(null),Object(s.useEffect)((function(){m&&O(m).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))}),[m]);var y=Object(j.jsx)("div",{style:{backgroundColor:"rgba(255, 100, 100, 0.85)",padding:"2px 10px",color:"white",borderRadius:3},children:"Book Saved Successfully!"});return Object(j.jsxs)("div",{className:"jumbotron p-3 border",children:[Object(j.jsx)("h4",{children:"Results"}),Object(j.jsx)("hr",{}),t.map((function(e,t){return Object(j.jsxs)("div",{className:"container-fluid mb-5",children:[Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("h4",{children:e.volumeInfo.title}),Object(j.jsxs)("span",{className:"ml-auto",id:t,children:[Object(j.jsx)("button",{onClick:S,className:"btn btn-success",children:"View"}),Object(j.jsx)(x.a,{trigger:"click",placement:"top",overlay:y,children:Object(j.jsx)("button",{onClick:w,className:"ml-2 btn btn-primary",children:"Save"})})]})]}),Object(j.jsxs)("p",{children:["Written By:",void 0!==e.volumeInfo.authors&&e.volumeInfo.authors.map((function(e,t){return Object(j.jsxs)("span",{children:[" ",e,", "]},t)}))]}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("img",{src:e.volumeInfo.imageLinks.thumbnail,className:"col-12 col-sm-5 col-md-3 col-lg-2",style:{height:"auto"}}),Object(j.jsx)("p",{className:"col-12 col-sm-7 col-md-9 col-lg-10",children:e.volumeInfo.description})]}),Object(j.jsx)("hr",{})]},t)})),Object(j.jsxs)(p.a,{show:u,children:[Object(j.jsx)("i",{className:"fas fa-window-close ml-auto mr-1 mt-1",style:{cursor:"pointer"},onClick:function(){return b(!1)}}),Object(j.jsx)("h4",{className:"ml-2",children:n.title}),Object(j.jsxs)("p",{className:"ml-2",children:["Written By:",void 0!==n.authors&&n.authors.map((function(e,t){return Object(j.jsxs)("span",{children:[" ",e,", "]},t)}))]}),Object(j.jsx)("img",{className:"mx-3 mb-3",src:n.imageLinks.thumbnail?n.imageLinks.thumbnail:"https://via.placeholder.com/300"}),Object(j.jsx)("p",{className:"mx-2",children:n.description})]})]})},N=c(92);var k=function(){var e=Object(s.useState)(""),t=Object(l.a)(e,2),c=t[0],a=t[1],n=Object(s.useState)([]),r=Object(l.a)(n,2),o=r[0],i=r[1],u=b(c,500),d=Object(s.useState)(!1),h=Object(l.a)(d,2),O=h[0],f=h[1];return Object(s.useEffect)((function(){c&&u&&m(c).then((function(e){i(e.data.items),console.log(e.data.items)})).catch((function(e){return console.log(e)}))}),[u]),Object(j.jsxs)("div",{children:[Object(j.jsxs)("form",{className:"border p-3 jumbotron clearfix",onSubmit:function(e){return e.preventDefault()},children:[Object(j.jsx)("h4",{children:"Book Search"}),Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{htmlFor:"book",children:"Search a book title or topic you would like to read about"}),Object(j.jsx)("input",{type:"book",className:"form-control",placeholder:"Enter a book title",onChange:function(e){a(e.target.value)}})]})]}),Object(j.jsx)(g,{results:o,clickSave:function(){f(!0)}}),Object(j.jsx)(N.a,{variant:"danger",dismissible:!0,show:O,children:"Your book has been saved successfully!"})]})};var S=function(){var e=Object(s.useState)([]),t=Object(l.a)(e,2),c=t[0],a=t[1],n=Object(s.useState)({title:"",authors:[],image:"",description:""}),r=Object(l.a)(n,2),o=r[0],i=r[1],u=Object(s.useState)(!1),b=Object(l.a)(u,2),d=b[0],h=b[1];function m(e){i(c[e.target.id]),h(!0)}function O(e){v(e.target.id).then((function(){f().then((function(e){return a(e.data)})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))}return Object(s.useEffect)((function(){f().then((function(e){return a(e.data.reverse())})).catch((function(e){return console.log(e)}))}),[]),Object(j.jsxs)("div",{className:"jumbotron p-3",children:[Object(j.jsx)("h4",{children:"Saved Books"}),Object(j.jsx)("hr",{}),c.map((function(e,t){return Object(j.jsxs)("div",{className:"mb-5",children:[Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("h4",{children:e.title}),Object(j.jsxs)("span",{className:"ml-auto",children:[Object(j.jsx)("button",{onClick:m,className:"btn btn-success",id:t,children:"View"}),Object(j.jsx)("button",{onClick:O,className:"ml-2 btn btn-danger",id:e._id,children:"Delete"})]})]}),Object(j.jsxs)("p",{children:["Written By:",void 0!==e.authors&&e.authors.map((function(e,t){return Object(j.jsxs)("span",{children:[" ",e,", "]},t)}))]}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("img",{src:e.image,className:"col-12 col-sm-5 col-md-3 col-lg-2",style:{height:"auto"}}),Object(j.jsx)("p",{className:"col-12 col-sm-7 col-md-9 col-lg-10",children:e.description})]}),Object(j.jsx)("hr",{})]},t)})),Object(j.jsxs)(p.a,{show:d,children:[Object(j.jsx)("i",{className:"fas fa-window-close ml-auto mr-1 mt-1",style:{cursor:"pointer"},onClick:function(){return h(!1)}}),Object(j.jsx)("h4",{className:"ml-2",children:o.title}),Object(j.jsxs)("p",{className:"ml-2",children:["Written By:",void 0!==o.authors&&o.authors.map((function(e,t){return Object(j.jsxs)("span",{children:[" ",e,", "]},t)}))]}),Object(j.jsx)("img",{className:"mx-3 mb-3",src:o.image}),Object(j.jsx)("p",{className:"mx-2",children:o.description})]})]})};var w=function(){return Object(j.jsx)("div",{className:"jumbotron mt-3 border",children:Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("h1",{className:"display-4 d-flex justify-content-center",children:"Google Books Search"}),Object(j.jsx)("p",{className:"lead d-flex justify-content-center",children:"Search for and Save Books of Interest"})]})})};var y=function(){return Object(j.jsxs)(o.a,{children:[Object(j.jsx)(u,{}),Object(j.jsxs)("div",{className:"container-fluid",children:[Object(j.jsx)(w,{}),Object(j.jsx)(i.a,{exact:!0,path:"/",component:k}),Object(j.jsx)(i.a,{exact:!0,path:"/saved",component:S})]})]})},I=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,93)).then((function(t){var c=t.getCLS,s=t.getFID,a=t.getFCP,n=t.getLCP,r=t.getTTFB;c(e),s(e),a(e),n(e),r(e)}))};c(84);r.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(y,{})}),document.getElementById("root")),I()}},[[85,1,2]]]);
//# sourceMappingURL=main.23d846d7.chunk.js.map